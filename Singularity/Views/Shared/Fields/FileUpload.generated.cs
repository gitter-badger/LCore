#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections;
    using System.Collections.Generic;
    using System.ComponentModel;
    using System.ComponentModel.DataAnnotations;
    using System.ComponentModel.Design;
    using System.IO;
    using System.Linq;
    using System.Linq.Expressions;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Mvc.Routing;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\Shared\Fields\FileUpload.cshtml"
    using LCore.Extensions;
    
    #line default
    #line hidden
    using Singularity;
    
    #line 5 "..\..\Views\Shared\Fields\FileUpload.cshtml"
    using Singularity.Annotations;
    
    #line default
    #line hidden
    using Singularity.Context;
    using Singularity.Controllers;
    
    #line 6 "..\..\Views\Shared\Fields\FileUpload.cshtml"
    using Singularity.Extensions;
    
    #line default
    #line hidden
    using Singularity.Models;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Shared/Fields/FileUpload.cshtml")]
    public partial class _Views_Shared_Fields_FileUpload_cshtml : System.Web.Mvc.WebViewPage<IViewField>
    {
        public _Views_Shared_Fields_FileUpload_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n\r\n\r\n");

WriteLiteral("\r\n");

            
            #line 8 "..\..\Views\Shared\Fields\FileUpload.cshtml"
  
    ModelContext Context = ContextProviderFactory.GetCurrent().GetContext(Session);

    List<FileUpload> CurrentFiles = new List<FileUpload>();

    IFileUpload Attr = Model.Meta.GetAttribute<IFileUpload>();

    if (Context.ContextTypes.Has(typeof(FileUpload)))
        {
        CurrentFiles = FileUpload.GetFileUploads(Context, Model.ModelData, Model.PropertyName).List();
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

            
            #line 23 "..\..\Views\Shared\Fields\FileUpload.cshtml"
 if (Model.ViewTypes.Has(ControllerHelper.ViewType.Edit))
    {
    if (CurrentFiles.Count > 0 &&
        !Attr.AllowMultipleUploads)
        {
        }
    else
        {

            
            #line default
            #line hidden
WriteLiteral("        <div");

WriteAttribute("id", Tuple.Create(" id=\"", 743), Tuple.Create("\"", 779)
, Tuple.Create(Tuple.Create("", 748), Tuple.Create("upload-file-", 748), true)
            
            #line 31 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 760), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 760), false)
);

WriteLiteral(">\r\n\r\n            <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n                $(document).ready(function () {\r\n                    $(\'#file-" +
"upload-button-");

            
            #line 35 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                      Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').click(function () {\r\n\r\n                        $(\'.file-upload-error-no-file-");

            
            #line 37 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                 Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').hide();\r\n\r\n                        var fileName = $(\'#file-upload-");

            
            #line 39 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                  Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').val();\r\n                        if (!fileName) {\r\n                            " +
"$(\'.file-upload-error-no-file-");

            
            #line 41 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                     Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').show();\r\n                            return;\r\n                        }\r\n\r\n   " +
"                     $(\'#file-upload-button-");

            
            #line 45 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                          Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').attr(\'disabled\', \'true\');\r\n                        $(\'#file-upload-button-");

            
            #line 46 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                          Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral(" span\').html(\'Uploading\');\r\n\r\n                        var size = null;\r\n\r\n       " +
"                 var restrictFileType = ");

            
            #line 50 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                           Write(Attr.AllowFileTypes == null || Attr.AllowFileTypes.Length == 0 ? "false" : "true");

            
            #line default
            #line hidden
WriteLiteral(";\r\n\r\n                        $(\'.file-upload-error-incorrect-type-");

            
            #line 52 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                         Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').hide();\r\n                        if (restrictFileType) {\r\n                    " +
"        var fileTypes =\r\n");

WriteLiteral("                                ");

            
            #line 55 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                           Write(Html.Raw($"[\'{Attr.AllowFileTypes.JoinLines("','").ToLower().ReplaceAll(".", "")}\']"));

            
            #line default
            #line hidden
WriteLiteral(@";

                            var typeFound = false;
                            for (var i = 0 ; i < fileTypes.length; i++)
                            {
                                if (fileName.toLowerCase().indexOf(fileTypes[i]) == fileName.length - fileTypes[i].length)
                                {
                                    typeFound = true;
                                    break;
                                }
                            }
                            if (!typeFound)
                            {
                                $('.file-upload-error-incorrect-type-");

            
            #line 68 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                 Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').show();\r\n                                return;\r\n                            " +
"}\r\n                        }\r\n\r\n                        if ($(\'#file-upload-");

            
            #line 73 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                        Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\')[0].files && $(\'#file-upload-");

            
            #line 73 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                                            Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\')[0].files[0])\r\n                            size = $(\'#file-upload-");

            
            #line 74 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                               Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\')[0].files[0].size;\r\n\r\n                        $(\'.file-upload-error-too-small-");

            
            #line 76 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                    Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').hide();\r\n                        $(\'.file-upload-error-too-large-");

            
            #line 77 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                    Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').hide();\r\n\r\n                        if (size != null) {\r\n\r\n                    " +
"        if (size < ");

            
            #line 81 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                   Write(Attr.SizeMinimum);

            
            #line default
            #line hidden
WriteLiteral(" )\r\n                            {\r\n                            $(\'.file-upload-er" +
"ror-too-small-");

            
            #line 83 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                        Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').show();\r\n                            return;\r\n                        }\r\n\r\n   " +
"                     if (size > ");

            
            #line 87 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                               Write(Attr.SizeMaximum);

            
            #line default
            #line hidden
WriteLiteral(" )\r\n                        {\r\n                        $(\'.file-upload-error-too-" +
"large-");

            
            #line 89 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                    Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').show();\r\n                        return;\r\n                    }\r\n             " +
"       }\r\n\r\n                    var ParentForm = $(\'#file-upload-button-");

            
            #line 94 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                       Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').parents(\'form\')[0];\r\n\r\n                $.ajax({\r\n                    url: \'/");

            
            #line 97 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                       Write(Html.ControllerName());

            
            #line default
            #line hidden
WriteLiteral("/UploadFile?ReturnURL=");

            
            #line 97 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                    Write(Request.Url);

            
            #line default
            #line hidden
WriteLiteral("?.AbsoluteUri&RelationType=");

            
            #line 97 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                                                           Write(Model.ModelData.TrueModelType().FullName);

            
            #line default
            #line hidden
WriteLiteral("&RelationProperty=");

            
            #line 97 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                                                                                                                      Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("&RelationID=");

            
            #line 97 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                                                                                                                                                                                     Write(Model.ModelData.GetID());

            
            #line default
            #line hidden
WriteLiteral(@"',
                    type: 'POST',
                    data: new FormData(ParentForm),
                    processData: false,
                    contentType: false,

                    success: function () {
                        location.reload();
                    },
                    error: function (e) {
                        console.log(e);
                        $('.file-upload-error-");

            
            #line 108 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                         Write(Model.PropertyName);

            
            #line default
            #line hidden
WriteLiteral("\').show();\r\n                    }\r\n                });\r\n                });\r\n    " +
"            });\r\n            </script>\r\n\r\n            <input");

WriteLiteral(" type=\"file\"");

WriteLiteral(" class=\"file-upload\"");

WriteAttribute("id", Tuple.Create(" id=\"", 4711), Tuple.Create("\"", 4747)
, Tuple.Create(Tuple.Create("", 4716), Tuple.Create("file-upload-", 4716), true)
            
            #line 115 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 4728), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 4728), false)
);

WriteAttribute("name", Tuple.Create(" name=\"", 4748), Tuple.Create("\"", 4786)
, Tuple.Create(Tuple.Create("", 4755), Tuple.Create("UploadFile", 4755), true)
            
            #line 115 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                         , Tuple.Create(Tuple.Create("", 4765), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 4765), false)
);

WriteLiteral(" />\r\n\r\n            <div");

WriteAttribute("class", Tuple.Create(" class=\"", 4810), Tuple.Create("\"", 4876)
, Tuple.Create(Tuple.Create("", 4818), Tuple.Create("file-upload-error-incorrect-type-", 4818), true)
            
            #line 117 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 4851), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 4851), false)
, Tuple.Create(Tuple.Create(" ", 4870), Tuple.Create("error", 4871), true)
);

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(">\r\n                File types allowed: ");

            
            #line 118 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                Write(Attr.AllowFileTypes.JoinLines(", ").ToUpper().ReplaceAll(".", ""));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </div>\r\n\r\n            <div");

WriteAttribute("class", Tuple.Create(" class=\"", 5046), Tuple.Create("\"", 5107)
, Tuple.Create(Tuple.Create("", 5054), Tuple.Create("file-upload-error-too-large-", 5054), true)
            
            #line 121 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 5082), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 5082), false)
, Tuple.Create(Tuple.Create(" ", 5101), Tuple.Create("error", 5102), true)
);

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(">\r\n                Upload can not be larger than <b>");

            
            #line 122 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                            Write(Attr.SizeMaximum.FormatFileSize(2));

            
            #line default
            #line hidden
WriteLiteral("</b>\r\n            </div>\r\n\r\n            <div");

WriteAttribute("class", Tuple.Create(" class=\"", 5261), Tuple.Create("\"", 5322)
, Tuple.Create(Tuple.Create("", 5269), Tuple.Create("file-upload-error-too-small-", 5269), true)
            
            #line 125 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 5297), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 5297), false)
, Tuple.Create(Tuple.Create(" ", 5316), Tuple.Create("error", 5317), true)
);

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(">\r\n                Upload must be at least <b>");

            
            #line 126 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                                      Write(Attr.SizeMinimum.FormatFileSize(2));

            
            #line default
            #line hidden
WriteLiteral("</b>\r\n            </div>\r\n\r\n            <div");

WriteAttribute("class", Tuple.Create(" class=\"", 5470), Tuple.Create("\"", 5529)
, Tuple.Create(Tuple.Create("", 5478), Tuple.Create("file-upload-error-no-file-", 5478), true)
            
            #line 129 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 5504), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 5504), false)
, Tuple.Create(Tuple.Create(" ", 5523), Tuple.Create("error", 5524), true)
);

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(">\r\n                Please select a file to upload.\r\n            </div>\r\n\r\n       " +
"     <div");

WriteAttribute("class", Tuple.Create(" class=\"", 5642), Tuple.Create("\"", 5693)
, Tuple.Create(Tuple.Create("", 5650), Tuple.Create("file-upload-error-", 5650), true)
            
            #line 133 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 5668), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 5668), false)
, Tuple.Create(Tuple.Create(" ", 5687), Tuple.Create("error", 5688), true)
);

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(">\r\n                An error occured while uploading this file.\r\n            </div" +
">\r\n\r\n            <div");

WriteLiteral(" class=\"btn btn-default\"");

WriteAttribute("id", Tuple.Create(" id=\"", 5842), Tuple.Create("\"", 5885)
, Tuple.Create(Tuple.Create("", 5847), Tuple.Create("file-upload-button-", 5847), true)
            
            #line 137 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 5866), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 5866), false)
);

WriteLiteral(">\r\n                <glyph>&#xE027;</glyph>\r\n                <span>Upload</span>\r\n" +
"            </div>\r\n        </div>\r\n");

            
            #line 142 "..\..\Views\Shared\Fields\FileUpload.cshtml"
        }
    }
else if (Model.ViewTypes.Has(ControllerHelper.ViewType.TableCell))
    {
    }
else if (Model.ViewTypes.Has(ControllerHelper.ViewType.Display))
    {
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 151 "..\..\Views\Shared\Fields\FileUpload.cshtml"
 if (Model.ViewTypes.Has(ControllerHelper.ViewType.Edit) ||
                Model.ViewTypes.Has(ControllerHelper.ViewType.Display))
    {
    foreach (FileUpload File in CurrentFiles)
        {
        string Ext = Path.GetExtension(File.FilePath);

        if (Ext != null && Ext.StartsWith("."))
            {
            Ext = Ext.Substring(1);
            }


            
            #line default
            #line hidden
WriteLiteral("        <div");

WriteLiteral(" class=\"display-file border-round\"");

WriteLiteral(">\r\n\r\n            <div");

WriteLiteral(" class=\"file-icon\"");

WriteLiteral(">\r\n                <a");

WriteAttribute("href", Tuple.Create(" href=\"", 6666), Tuple.Create("\"", 6757)
            
            #line 166 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 6673), Tuple.Create<System.Object, System.Int32>(Url.Controller<ManageController>().Action(c => c.DownloadFile, File.FileUploadID)
            
            #line default
            #line hidden
, 6673), false)
);

WriteLiteral(">\r\n                    <img");

WriteAttribute("src", Tuple.Create(" src=\"", 6785), Tuple.Create("\"", 6821)
, Tuple.Create(Tuple.Create("", 6791), Tuple.Create("/Content/icons/32px/", 6791), true)
            
            #line 167 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 6811), Tuple.Create<System.Object, System.Int32>(Ext
            
            #line default
            #line hidden
, 6811), false)
, Tuple.Create(Tuple.Create("", 6817), Tuple.Create(".png", 6817), true)
);

WriteLiteral(" alt=\"Image not found\"");

WriteLiteral(" error-src=\"/Content/icons/32px/_blank.png\"");

WriteLiteral(" />\r\n                </a>\r\n            </div>\r\n            <div>\r\n               " +
" <a");

WriteAttribute("href", Tuple.Create(" href=\"", 6971), Tuple.Create("\"", 7062)
            
            #line 171 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 6978), Tuple.Create<System.Object, System.Int32>(Url.Controller<ManageController>().Action(c => c.DownloadFile, File.FileUploadID)
            
            #line default
            #line hidden
, 6978), false)
);

WriteLiteral(">\r\n                    Name:\r\n");

WriteLiteral("                    ");

            
            #line 173 "..\..\Views\Shared\Fields\FileUpload.cshtml"
               Write(Path.GetFileName(File.FilePath));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </a>\r\n            </div>\r\n\r\n            <div>\r\n                " +
"Size:\r\n");

WriteLiteral("                ");

            
            #line 179 "..\..\Views\Shared\Fields\FileUpload.cshtml"
           Write(File.FileSize.FormatFileSize(1));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </div>\r\n\r\n");

            
            #line 182 "..\..\Views\Shared\Fields\FileUpload.cshtml"
            
            
            #line default
            #line hidden
            
            #line 182 "..\..\Views\Shared\Fields\FileUpload.cshtml"
             if (Attr.AllowDeactivate)
                {

            
            #line default
            #line hidden
WriteLiteral("                <a");

WriteLiteral(" class=\"btn btn-default\"");

WriteAttribute("id", Tuple.Create(" id=\"", 7406), Tuple.Create("\"", 7449)
, Tuple.Create(Tuple.Create("", 7411), Tuple.Create("file-upload-button-", 7411), true)
            
            #line 184 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 7430), Tuple.Create<System.Object, System.Int32>(Model.PropertyName
            
            #line default
            #line hidden
, 7430), false)
);

WriteAttribute("href", Tuple.Create("\r\n                   href=\"", 7450), Tuple.Create("\"", 7585)
            
            #line 185 "..\..\Views\Shared\Fields\FileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 7477), Tuple.Create<System.Object, System.Int32>(Url.Controller<ManageController>().Action(c => c.DeleteFile, File.FileUploadID, Request.Url?.AbsoluteUri)
            
            #line default
            #line hidden
, 7477), false)
);

WriteLiteral(">\r\n                    <glyph>&#xe014;</glyph>\r\n                    Remove\r\n     " +
"           </a>\r\n");

            
            #line 189 "..\..\Views\Shared\Fields\FileUpload.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("        </div>\r\n");

            
            #line 191 "..\..\Views\Shared\Fields\FileUpload.cshtml"
        }
    }

            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
