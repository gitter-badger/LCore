#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    
    #line 3 "..\..\Views\Shared\_Manage_Search.cshtml"
    using System.Linq;
    
    #line default
    #line hidden
    
    #line 4 "..\..\Views\Shared\_Manage_Search.cshtml"
    using System.Linq.Expressions;
    
    #line default
    #line hidden
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 6 "..\..\Views\Shared\_Manage_Search.cshtml"
    using LCore;
    
    #line default
    #line hidden
    
    #line 7 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity;
    
    #line default
    #line hidden
    
    #line 13 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Annotations;
    
    #line default
    #line hidden
    
    #line 10 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Context;
    
    #line default
    #line hidden
    
    #line 9 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Controllers;
    
    #line default
    #line hidden
    
    #line 12 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Extensions;
    
    #line default
    #line hidden
    
    #line 8 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Models;
    
    #line default
    #line hidden
    
    #line 11 "..\..\Views\Shared\_Manage_Search.cshtml"
    using Singularity.Routes;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Shared/_Manage_Search.cshtml")]
    public partial class _Views_Shared__Manage_Search_cshtml : System.Web.Mvc.WebViewPage<ManageViewModel>
    {
        public _Views_Shared__Manage_Search_cshtml()
        {
        }
        public override void Execute()
        {


WriteLiteral("\r\n\r\n");



WriteLiteral("\r\n");









WriteLiteral("\r\n");


WriteLiteral("\r\n");


            
            #line 17 "..\..\Views\Shared\_Manage_Search.cshtml"
  
    String ControllerTypeName = ViewContext.Controller.GetType().FullName;

    List<SavedSearch> SavedSearches = SavedSearch.Find(Context, Model.ModelType.FullName, ControllerTypeName).List();

    Dictionary<String, List<SavedSearch>> SavedSearchGroups = SavedSearches.Group();

    Boolean SearchEmpty = Model.FieldSearchTerms.Keys.Count == 0 && String.IsNullOrEmpty(Model.GlobalSearchTerm);


            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n<div class=\"manage-global-search\">\r\n");


            
            #line 29 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (Model.FieldSearchTerms.Keys.Count > 0)
        {
        foreach (SearchOperation o in Model.FieldSearchTerms.Values)
            {
            if (o.Operator == Expression.Equal || o.OperatorStr == "~")
                {
                String Column = o.Property.ToUrlSlug();


            
            #line default
            #line hidden
WriteLiteral("                <script type=\"text/javascript\">\r\n                    $().ready(fu" +
"nction () {\r\n                        $(\'.manage-");


            
            #line 39 "..\..\Views\Shared\_Manage_Search.cshtml"
                              Write(Model.ModelTypeCSSClass);

            
            #line default
            #line hidden
WriteLiteral(" .manage-table tbody td.");


            
            #line 39 "..\..\Views\Shared\_Manage_Search.cshtml"
                                                                              Write(Column);

            
            #line default
            #line hidden
WriteLiteral(" span\').each(function () {\r\n                            var html = $(this).html()" +
";\r\n                            $(this).html(html.replace(new RegExp(\"(\" + (\'");


            
            #line 41 "..\..\Views\Shared\_Manage_Search.cshtml"
                                                                    Write(o.Search);

            
            #line default
            #line hidden
WriteLiteral("\').escapeRegExp() + \")\", \'ig\'), \'<strong>$1</strong>\'));\r\n                       " +
" });\r\n                    });\r\n                </script>\r\n");


            
            #line 45 "..\..\Views\Shared\_Manage_Search.cshtml"
                }
            }
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 49 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (!String.IsNullOrEmpty(Model.GlobalSearchTerm))
        {

            
            #line default
            #line hidden
WriteLiteral("        <script type=\"text/javascript\">\r\n            $().ready(function () {\r\n   " +
"             $(\'.manage-");


            
            #line 53 "..\..\Views\Shared\_Manage_Search.cshtml"
                      Write(Model.ModelTypeCSSClass);

            
            #line default
            #line hidden
WriteLiteral(" .manage-table tbody td span\').each(function () {\r\n                    var html =" +
" $(this).html();\r\n                    $(this).html(html.replace(new RegExp(\'(\' +" +
" (\'");


            
            #line 55 "..\..\Views\Shared\_Manage_Search.cshtml"
                                                            Write(Model.GlobalSearchTerm);

            
            #line default
            #line hidden
WriteLiteral("\').escapeRegExp() + \')\', \'ig\'), \'<strong>$1</strong>\'));\r\n                });\r\n  " +
"          });\r\n        </script>\r\n");


            
            #line 59 "..\..\Views\Shared\_Manage_Search.cshtml"
        }
    else
        {

            
            #line default
            #line hidden
WriteLiteral("        <script type=\"text/javascript\">\r\n            $().ready(function () {\r\n   " +
"             $(\'#GlobalSearchTerm\').val(\'\');\r\n            });\r\n        </script>" +
"\r\n");


            
            #line 67 "..\..\Views\Shared\_Manage_Search.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 69 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (!SearchEmpty)
        {
        using (Html.BeginForm(Singularity.Routes.Controllers.Manage.Actions.Manage,
            Model.Controller.Name,
            Singularity.Routes.Controllers.Manage.Actions.Route_ClearSearch(Model),
            FormMethod.Get,
            new { @class = "clear-form" }))
            {

            
            #line default
            #line hidden
WriteLiteral("            <input type=\"submit\" value=\"Clear\" />\r\n");


            
            #line 78 "..\..\Views\Shared\_Manage_Search.cshtml"
            }
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 81 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (Model.FieldSearchTerms != null &&
            Model.FieldSearchTerms.Keys.Count > 0)
        {

            
            #line default
            #line hidden
WriteLiteral(@"        <script type=""text/javascript"">
            $().ready(function () {
                $('.filter-area span[search-text]').click(function () {
                    $('#GlobalSearchTerm').val($(this).attr('search-text'));
                })
            });
        </script>
");



WriteLiteral("        <div class=\"filter-area\">\r\n");


            
            #line 92 "..\..\Views\Shared\_Manage_Search.cshtml"
             foreach (SearchOperation o in Model.FieldSearchTerms.Values)
                {

            
            #line default
            #line hidden
WriteLiteral("                <span>\r\n                    <span search-text=\"");


            
            #line 95 "..\..\Views\Shared\_Manage_Search.cshtml"
                                   Write(o.Property + o.OperatorStr + o.Search);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                        ");


            
            #line 96 "..\..\Views\Shared\_Manage_Search.cshtml"
                   Write(o.Property);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        ");


            
            #line 97 "..\..\Views\Shared\_Manage_Search.cshtml"
                   Write(o.OperatorStr);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        ");


            
            #line 98 "..\..\Views\Shared\_Manage_Search.cshtml"
                   Write(o.Search);

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </span>\r\n                    ");


            
            #line 100 "..\..\Views\Shared\_Manage_Search.cshtml"
               Write(Html.ActionLink("X", Singularity.Routes.Controllers.Manage.Actions.Manage,
                        Model.Controller.Name,
                        Singularity.Routes.Controllers.Manage.Actions.Route_RemoveFilter(Model, o.Property), new { }));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </span>\r\n");


            
            #line 104 "..\..\Views\Shared\_Manage_Search.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("        </div>\r\n");


            
            #line 106 "..\..\Views\Shared\_Manage_Search.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n    <script type=\"text/javascript\">\r\n        $().ready(function () {\r\n         " +
"   var availableTags = [\r\n                ");


            
            #line 111 "..\..\Views\Shared\_Manage_Search.cshtml"
           Write(Html.Raw(Model.GetSearchSuggestions()));

            
            #line default
            #line hidden
WriteLiteral(@"
            ];
            $(""#GlobalSearchTerm"").bind(""keydown"", function (event) {
                if (event.keyCode === $.ui.keyCode.TAB &&
                    $(this).autocomplete(""instance"").menu.active) {
                    event.preventDefault();
                }
            }).autocomplete({
                source: availableTags
            });
        });
    </script>

");


            
            #line 124 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (!SearchEmpty &&
        ViewContext.AllowCreate(typeof(SavedSearch)) &&
        ViewContext.GetManageController().ViewSavedSearches)
        {

            
            #line default
            #line hidden
WriteLiteral("        <a href=\"");


            
            #line 128 "..\..\Views\Shared\_Manage_Search.cshtml"
             Write(Url.Controller<SavedSearchController>()
                    .QS(Singularity.Routes.Controllers.SavedSearch.Actions.Route_CreateSavedSearch(Model, ViewContext))
                    .Lambda<String>(c => c.Create));

            
            #line default
            #line hidden
WriteLiteral("\">\r\n            <div class=\"btn btn-default\" title=\"Save Search\">\r\n              " +
"  <glyph>&#xe172;</glyph>\r\n            </div>\r\n        </a>\r\n");


            
            #line 135 "..\..\Views\Shared\_Manage_Search.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 137 "..\..\Views\Shared\_Manage_Search.cshtml"
     if (SavedSearches.Count > 0 &&
        ViewContext.GetManageController().ViewSavedSearches)
        {

            
            #line default
            #line hidden
WriteLiteral(@"        <div class=""manage-saved-searches"">
            <h2>Searches</h2>

            <span class=""btn-info btn right method-show-hide relative"" click-fade-toggle="".manage-saved-searches-full"">
                <glyph class=""manage-saved-searches-full absolute"">&#x2b;</glyph>
                <glyph class=""manage-saved-searches-full absolute"" style="" display: none;"">&#x2212;</glyph>
            </span>

            <div class=""manage-saved-searches-full"" style=""display:none"">
");


            
            #line 149 "..\..\Views\Shared\_Manage_Search.cshtml"
                 foreach (String GroupName in SavedSearchGroups.Keys)
                    {
                    List<SavedSearch> Group = SavedSearchGroups[GroupName];


            
            #line default
            #line hidden
WriteLiteral("                    <h3>");


            
            #line 153 "..\..\Views\Shared\_Manage_Search.cshtml"
                   Write(GroupName);

            
            #line default
            #line hidden
WriteLiteral("</h3>\r\n");


            
            #line 154 "..\..\Views\Shared\_Manage_Search.cshtml"

                    foreach (SavedSearch Search in Group)
                        {

            
            #line default
            #line hidden
WriteLiteral("                        <div class=\"manage-saved-search\">\r\n                      " +
"      <a class=\"saved-search btn btn-default\"\r\n                               hr" +
"ef=\"");


            
            #line 159 "..\..\Views\Shared\_Manage_Search.cshtml"
                                 Write(Url.Controller<ManageController>()
                                .QS(Singularity.Routes.Controllers.SavedSearch.Actions.Route_ViewSavedSearch(Model, Search))
                                .Lambda<int,String,SortDirection,String ,String , ControllerHelper.ManageViewType , String , Boolean>(c=> c.Manage));

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                                <glyph>&#xe003;</glyph>\r\n                    " +
"            <h4>");


            
            #line 163 "..\..\Views\Shared\_Manage_Search.cshtml"
                               Write(Search.Name);

            
            #line default
            #line hidden
WriteLiteral("</h4>\r\n                            </a>\r\n");


            
            #line 165 "..\..\Views\Shared\_Manage_Search.cshtml"
                             if (Model.ModelType.HasInterface<IEmailable>() &&
                                ViewContext.AllowCreate(typeof(EmailJob)))
                                {

            
            #line default
            #line hidden
WriteLiteral("                                <a class=\"email-saved-search btn btn-default\"\r\n  " +
"                                 href=\"");


            
            #line 169 "..\..\Views\Shared\_Manage_Search.cshtml"
                                     Write(Url.Controller<EmailJobController>()
                                       .QS(new Dictionary<String, Object> { {"SavedSearchID", Search.SavedSearchID} })
                                       .Action(c => c.Create, Request.Url.AbsoluteUri));

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                                    <glyph>&#x2709;</glyph>\r\n                " +
"                </a>\r\n");


            
            #line 174 "..\..\Views\Shared\_Manage_Search.cshtml"
                                }

            
            #line default
            #line hidden
WriteLiteral("                            <a class=\"edit-saved-search btn btn-default\"\r\n       " +
"                        href=\"");


            
            #line 176 "..\..\Views\Shared\_Manage_Search.cshtml"
                                 Write(Url.Controller<SavedSearchController>()
                                    .QS(Singularity.Routes.Controllers.Manage.Actions.Route_Edit(Search, Request))
                                    .Lambda<int, String, Boolean>(c => c.Edit));

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                                <glyph>&#xe065;</glyph>\r\n                    " +
"        </a>\r\n                        </div>\r\n");


            
            #line 182 "..\..\Views\Shared\_Manage_Search.cshtml"
                        }
                    }

            
            #line default
            #line hidden
WriteLiteral("            </div>\r\n        </div>\r\n");


            
            #line 186 "..\..\Views\Shared\_Manage_Search.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 188 "..\..\Views\Shared\_Manage_Search.cshtml"
     using (Html.BeginForm(Singularity.Routes.Controllers.Manage.Actions.Search,
        Model.Controller.Name,
        Singularity.Routes.Controllers.Manage.Actions.Route_Search(Model),
        FormMethod.Post, new { id = "SearchForm" }))
        {

        
            
            #line default
            #line hidden
            
            #line 194 "..\..\Views\Shared\_Manage_Search.cshtml"
   Write(Html.TextBox("GlobalSearchTerm", Model.GlobalSearchTerm));

            
            #line default
            #line hidden
            
            #line 194 "..\..\Views\Shared\_Manage_Search.cshtml"
                                                                 ;
        
            
            #line default
            #line hidden
            
            #line 195 "..\..\Views\Shared\_Manage_Search.cshtml"
   Write(Html.Hidden("FieldSearchTerms", Model.GetGlobalSearchCombined()));

            
            #line default
            #line hidden
            
            #line 195 "..\..\Views\Shared\_Manage_Search.cshtml"
                                                                         ;


            
            #line default
            #line hidden
WriteLiteral("        <a onclick=\"$(\'#SearchForm\').submit();\" class=\"btn btn-default\">\r\n       " +
"     <glyph>&#xe003;</glyph>\r\n            <span>\r\n                Search\r\n      " +
"      </span>\r\n        </a>\r\n");


            
            #line 203 "..\..\Views\Shared\_Manage_Search.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("\r\n</div>");


        }
    }
}
#pragma warning restore 1591
