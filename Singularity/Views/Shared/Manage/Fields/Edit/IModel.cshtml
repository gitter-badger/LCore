@* Generator: MvcView *@

@using Singularity.Extensions;
@* ReSharper disable once RedundantUsingDirective*@
@using LMVC.Routes;

@{
    var SubModel = (IModel)Model.PropertyData;

    List<SelectListItem> Items = Model.GetRelationItems(Model.Meta.ModelType, SubModel);

    string Id = SubModel.GetID();

    var Selected = EnumerableExt.First(Items, Item => Item.Value == Id);

    if (Selected != null)
        {
        Selected.Selected = true;
        }
}

@model IViewField

@Html.DropDownList(Model.Meta.PropertyName, Items, new { @class = "select-list" })
