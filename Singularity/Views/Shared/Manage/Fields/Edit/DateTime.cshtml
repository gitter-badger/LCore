@* Generator: MvcView *@
@using LCore.Extensions;

@{
    var CurrentValue = Model.ModelData.GetProperty(Model.Meta.PropertyName) as DateTime?;

}

@model IViewField


@if (CurrentValue == DateTime.MinValue)
    {
    CurrentValue = null;
    } 

@if (Model.Meta.DataTypeName == DataType.Time.ToString())
    {
    @Html.TextBox(Model.Meta.PropertyName,
        CurrentValue?.ToShortTimeString() ?? "",
        new { @class = "timepicker" })
    }
@if (Model.Meta.DataTypeName == DataType.Date.ToString())
    {
    @Html.TextBox(Model.Meta.PropertyName,
        CurrentValue?.ToShortDateString() ?? "",
        new { @class = "datepicker" })
    }
@if (Model.Meta.DataTypeName == DataType.DateTime.ToString())
    {
    @Html.TextBox(Model.Meta.PropertyName,
                            CurrentValue,
                            new { @class = "datepicker" })
    }