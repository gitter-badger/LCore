#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    
    #line 10 "..\..\Views\Shared\Edit.cshtml"
    using System.Collections;
    
    #line default
    #line hidden
    
    #line 11 "..\..\Views\Shared\Edit.cshtml"
    using System.Collections.Generic;
    
    #line default
    #line hidden
    
    #line 12 "..\..\Views\Shared\Edit.cshtml"
    using System.ComponentModel;
    
    #line default
    #line hidden
    
    #line 13 "..\..\Views\Shared\Edit.cshtml"
    using System.ComponentModel.DataAnnotations;
    
    #line default
    #line hidden
    
    #line 14 "..\..\Views\Shared\Edit.cshtml"
    using System.ComponentModel.DataAnnotations.Schema;
    
    #line default
    #line hidden
    
    #line 15 "..\..\Views\Shared\Edit.cshtml"
    using System.ComponentModel.Design;
    
    #line default
    #line hidden
    using System.IO;
    
    #line 8 "..\..\Views\Shared\Edit.cshtml"
    using System.Linq;
    
    #line default
    #line hidden
    
    #line 9 "..\..\Views\Shared\Edit.cshtml"
    using System.Linq.Expressions;
    
    #line default
    #line hidden
    using System.Net;
    using System.Text;
    
    #line 16 "..\..\Views\Shared\Edit.cshtml"
    using System.Web;
    
    #line default
    #line hidden
    using System.Web.Helpers;
    
    #line 17 "..\..\Views\Shared\Edit.cshtml"
    using System.Web.Mvc;
    
    #line default
    #line hidden
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 3 "..\..\Views\Shared\Edit.cshtml"
    using LCore;
    
    #line default
    #line hidden
    
    #line 4 "..\..\Views\Shared\Edit.cshtml"
    using MVCL;
    
    #line default
    #line hidden
    
    #line 7 "..\..\Views\Shared\Edit.cshtml"
    using MVCL.Context;
    
    #line default
    #line hidden
    
    #line 6 "..\..\Views\Shared\Edit.cshtml"
    using MVCL.Controllers;
    
    #line default
    #line hidden
    
    #line 5 "..\..\Views\Shared\Edit.cshtml"
    using MVCL.Models;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Shared/Edit.cshtml")]
    public partial class _Views_Shared_Edit_cshtml : System.Web.Mvc.WebViewPage<IModel>
    {
        public _Views_Shared_Edit_cshtml()
        {
        }
        public override void Execute()
        {


WriteLiteral("\r\n\r\n");
















WriteLiteral("\r\n");


            
            #line 19 "..\..\Views\Shared\Edit.cshtml"
  
    ViewBag.Create = !Model.HasID();

    ViewBag.Title = (ViewBag.Create ? "Create" : "Edit") + " " + Model.GetFriendlyTypeName() + ": " + Model.ToString();
    Layout = "~/Views/Shared/_Layout.cshtml";

    ControllerHelper.ViewType ViewType = ViewBag.Create ? ControllerHelper.ViewType.Create : ControllerHelper.ViewType.Edit;

    IEnumerable<System.Web.ModelBinding.ModelMetadata> Fields = null;

    if (Model is IFieldGroups)
    {
        Fields = ((IFieldGroups)Model).GetFieldGroup(Context, ViewType);
    }
    else
    {
        Fields = FieldGroups.GetFieldGroup(Context, Model.TrueModelType(), ViewType);
    }


            
            #line default
            #line hidden
WriteLiteral("\r\n");


WriteLiteral("\r\n<div class=\"");


            
            #line 41 "..\..\Views\Shared\Edit.cshtml"
        Write(ViewBag.Create ? "create" : "edit");

            
            #line default
            #line hidden
WriteLiteral(" wide-form\"\r\n     focus-first=\"input[type=text]\">\r\n\r\n");


            
            #line 44 "..\..\Views\Shared\Edit.cshtml"
     if (!String.IsNullOrEmpty(ViewBag.ReturnURL))
    {

            
            #line default
            #line hidden
WriteLiteral("        <a class=\"btn btn-default right btn-warning\" href=\"");


            
            #line 46 "..\..\Views\Shared\Edit.cshtml"
                                                      Write(ViewBag.ReturnURL);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n            <glyph>&#xe091;</glyph>\r\n            Cancel\r\n        </a>\r\n");


            
            #line 50 "..\..\Views\Shared\Edit.cshtml"
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n    <h1>\r\n        ");


            
            #line 53 "..\..\Views\Shared\Edit.cshtml"
    Write(ViewBag.Create ? "Create" : "Edit");

            
            #line default
            #line hidden
WriteLiteral(" ");


            
            #line 53 "..\..\Views\Shared\Edit.cshtml"
                                         Write(Model.GetFriendlyTypeName());

            
            #line default
            #line hidden
WriteLiteral("\r\n    </h1>\r\n\r\n    <h2>\r\n        ");


            
            #line 57 "..\..\Views\Shared\Edit.cshtml"
   Write(Model.ToString());

            
            #line default
            #line hidden
WriteLiteral("\r\n    </h2>\r\n\r\n");


            
            #line 60 "..\..\Views\Shared\Edit.cshtml"
     using (Html.BeginForm(ViewBag.Create ? (String)ViewBag.CreateActionName : (String)ViewBag.EditActionName, (String)ViewBag.ControllerName, (Object)ViewBag.Route_Edit, FormMethod.Post, new { @class = "edit-form" }))
    {
        Boolean RequiredFields = false;

        Dictionary<String, List<System.Web.ModelBinding.ModelMetadata>> TabGroups = Fields.Group((m) =>
        {
            if (m.AdditionalValues.ContainsKey(FieldTabAttribute.Key))
                return (String)m.AdditionalValues[FieldTabAttribute.Key];
            else
                return "";
        });

        Boolean IsTabView = TabGroups.Keys.Count > 1;


            
            #line default
            #line hidden
WriteLiteral("        <div class=\"");


            
            #line 74 "..\..\Views\Shared\Edit.cshtml"
                Write(ViewBag.Create ? "create" : "edit");

            
            #line default
            #line hidden
WriteLiteral("-fields ");


            
            #line 74 "..\..\Views\Shared\Edit.cshtml"
                                                             Write(IsTabView ? "tab-view" : "");

            
            #line default
            #line hidden
WriteLiteral("\">\r\n\r\n            ");


            
            #line 76 "..\..\Views\Shared\Edit.cshtml"
       Write(Html.ValidationSummary(true));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\r\n");


            
            #line 79 "..\..\Views\Shared\Edit.cshtml"
             if (TabGroups.Keys.Count > 0)
            {

            
            #line default
            #line hidden
WriteLiteral("                <div class=\"tab-container\">\r\n                    <ul>\r\n");


            
            #line 83 "..\..\Views\Shared\Edit.cshtml"
                         for (int i = 0; i < TabGroups.Keys.Count; i++)
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <li>\r\n                                <a href=\"#tab-");


            
            #line 86 "..\..\Views\Shared\Edit.cshtml"
                                          Write(i+1);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                                    ");


            
            #line 87 "..\..\Views\Shared\Edit.cshtml"
                               Write(TabGroups.Keys.List()[i]);

            
            #line default
            #line hidden
WriteLiteral("\r\n                                </a>\r\n                            </li>\r\n");


            
            #line 90 "..\..\Views\Shared\Edit.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </ul>\r\n\r\n");


            
            #line 93 "..\..\Views\Shared\Edit.cshtml"
                      
                int j = 0;
                    

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 97 "..\..\Views\Shared\Edit.cshtml"
                     foreach (String s in TabGroups.Keys)
                    {
                        List<System.Web.ModelBinding.ModelMetadata> TabFields = TabGroups[s];


            
            #line default
            #line hidden
WriteLiteral("                        <div id=\"tab-");


            
            #line 101 "..\..\Views\Shared\Edit.cshtml"
                                 Write(j+1);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n\r\n");


            
            #line 103 "..\..\Views\Shared\Edit.cshtml"
                             foreach (System.Web.ModelBinding.ModelMetadata Meta in TabFields)
                            {
                                ViewField Field = new ViewField(Context, Model.TrueModelType(), Meta.PropertyName, Model, ViewType);

                                if (Meta.IsRequired)
                                {
                                    RequiredFields = true;
                                }

                                
            
            #line default
            #line hidden
            
            #line 112 "..\..\Views\Shared\Edit.cshtml"
                           Write(Html.Partial(ControllerHelper.PartialViews.Field, Field));

            
            #line default
            #line hidden
            
            #line 112 "..\..\Views\Shared\Edit.cshtml"
                                                                                         
                            }

            
            #line default
            #line hidden
WriteLiteral("                        </div>\r\n");


            
            #line 115 "..\..\Views\Shared\Edit.cshtml"
                            j++;
                    }

            
            #line default
            #line hidden
WriteLiteral("                </div>\r\n");


            
            #line 118 "..\..\Views\Shared\Edit.cshtml"
            }
            else
            {
                foreach (System.Web.ModelBinding.ModelMetadata Meta in Fields)
                {
                    ViewField Field = new ViewField(Context, Model.TrueModelType(), Meta.PropertyName, Model, ViewType);

                    if (Meta.IsRequired)
                    {
                        RequiredFields = true;
                    }

                    
            
            #line default
            #line hidden
            
            #line 130 "..\..\Views\Shared\Edit.cshtml"
               Write(Html.Partial(ControllerHelper.PartialViews.Field, Field));

            
            #line default
            #line hidden
            
            #line 130 "..\..\Views\Shared\Edit.cshtml"
                                                                             
                }
            }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n        </div>\r\n");


            
            #line 136 "..\..\Views\Shared\Edit.cshtml"

        if (ViewBag.Create &&
            ViewBag.AllowAdminRandomize &&
            ContextProviderFactory.GetCurrent().CurrentUser(Session).IsAdmin == true)
        {

            
            #line default
            #line hidden
WriteLiteral(@"            <div id=""randomize-fields"" class=""btn btn-default left""
                 key-bind-click=""Ctrl+R""
                 key-bind-click-name=""Randomize"">
                <span class=""glyphicon pointer"">
                    &#xe115;
                </span>
                Randomize
            </div>
");


            
            #line 149 "..\..\Views\Shared\Edit.cshtml"
        }


        if (ViewContext.Controller is ManageController &&
            ((ManageController)ViewContext.Controller).OverridePermissions.Deactivate == true &&
            ControllerHelper.AllowDeactivate(Session, Model.TrueModelType()) && !ViewBag.Create)
        {

            
            #line default
            #line hidden
WriteLiteral("            <div class=\"left\">\r\n                <a href=\"");


            
            #line 157 "..\..\Views\Shared\Edit.cshtml"
                    Write(Url.Action((String)ViewBag.DeleteActionName,
                    (String)ViewBag.ControllerName, new { id = Model.GetID(), ReturnURL = ViewBag.ReturnURL }));

            
            #line default
            #line hidden
WriteLiteral(@"""
                   id=""DeleteButton""
                   key-bind-click=""Ctrl+Delete""
                   key-bind-click-name=""Delete""
                   class=""btn btn-default btn-danger"">
                    <span class=""glyphicon pointer"">
                        &#xe020; Delete
                    </span>
                </a>
            </div>
");


            
            #line 168 "..\..\Views\Shared\Edit.cshtml"
        }

        if (!String.IsNullOrEmpty(ViewBag.ReturnURL))
        {

            
            #line default
            #line hidden
WriteLiteral("            <span class=\"right\">\r\n\r\n                <a class=\"btn btn-default btn" +
"-warning\"\r\n                   href=\"");


            
            #line 175 "..\..\Views\Shared\Edit.cshtml"
                    Write(ViewBag.ReturnURL);

            
            #line default
            #line hidden
WriteLiteral(@"""
                   id=""CancelButton""
                   key-bind-click=""Esc""
                   key-bind-click-name=""Cancel"">
                    <glyph>&#xe091;</glyph>
                    Cancel
                </a>
                <a class=""btn btn-default btn-success pointer""
                   onclick=""$('form').submit();""
                   id=""SaveButton""
                   key-bind-click=""Ctrl+S""
                   key-bind-click-name=""Save"">
                    <glyph>&#xe173;</glyph>
                    Save
                </a>
            </span>
");


            
            #line 191 "..\..\Views\Shared\Edit.cshtml"
        }

        if (RequiredFields)
        {

            
            #line default
            #line hidden
WriteLiteral("            <div class=\"required-fields\">\r\n                * Some fields are requ" +
"ired\r\n            </div>\r\n");


            
            #line 198 "..\..\Views\Shared\Edit.cshtml"
        }
    }

            
            #line default
            #line hidden
WriteLiteral("</div>");


        }
    }
}
#pragma warning restore 1591
